<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal V5.1.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #ff7b00;
            --accent-glow: rgba(255, 123, 0, 0.4);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-main: #ffffff;
        }

        * { box-sizing: border-box; outline: none; }

        body {
            margin: 0; padding: 0;
            font-family: 'Inter', sans-serif;
            height: 100vh;
            background-color: #050505;
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            color: var(--text-main);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- GLASS UI --- */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
        }

        /* LOGIN */
        #login-screen {
            width: 100%; height: 100%; position: absolute; z-index: 10;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 0.5s ease;
        }
        .login-card { width: 400px; padding: 40px; text-align: center; }
        .logo-circle {
            width: 80px; height: 80px; background: var(--accent); border-radius: 50%;
            margin: 0 auto 20px; display: flex; justify-content: center; align-items: center;
            box-shadow: 0 0 20px var(--accent-glow); font-size: 32px; font-weight: 800; color: white;
        }
        input {
            width: 100%; padding: 16px; margin-bottom: 20px;
            background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border);
            border-radius: 12px; color: white; font-size: 1rem;
        }
        input:focus { border-color: var(--accent); box-shadow: 0 0 15px var(--accent-glow); }
        .primary-btn {
            width: 100%; padding: 16px; background: var(--accent); border: none;
            border-radius: 12px; color: white; font-weight: 600; font-size: 1rem; cursor: pointer;
            transition: transform 0.2s;
        }
        .primary-btn:hover { transform: translateY(-2px); }
        #login-error { color: #ff4d4d; margin-top: 15px; display: none; }

        /* DASHBOARD */
        #dashboard {
            display: none; width: 90%; max-width: 1200px; height: 90vh; flex-direction: column;
        }
        .nav-bar {
            display: flex; justify-content: space-between; align-items: center; padding: 20px; margin-bottom: 20px;
        }
        .tool-card {
            padding: 30px; display: flex; flex-direction: column; justify-content: space-between;
            transition: all 0.3s; cursor: pointer; min-height: 250px;
        }
        .tool-card:hover { background: rgba(255, 255, 255, 0.08); border-color: var(--accent); }
        
        /* MODAL */
        #app-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); z-index: 100;
            display: none; justify-content: center; align-items: center;
        }
        .modal-body {
            width: 800px; max-height: 90vh; overflow-y: auto; background: #1a1a1a;
            border: 1px solid #333; border-radius: 20px; padding: 40px; position: relative;
        }
        .close-btn { position: absolute; top: 20px; right: 20px; background: none; border: none; color: #666; font-size: 24px; cursor: pointer; }
        
        /* FORM */
        .row { display: flex; gap: 20px; margin-bottom: 15px; }
        .field { flex: 1; }
        .field label { display: block; color: #888; font-size: 0.8rem; margin-bottom: 8px; }
        .modal-input { width: 100%; padding: 12px; background: #2a2a2a; border: 1px solid #333; border-radius: 8px; color: white; }
        
        .btn-group { display: flex; background: #2a2a2a; padding: 4px; border-radius: 8px; }
        .toggle-opt { flex: 1; padding: 10px; text-align: center; cursor: pointer; border-radius: 6px; color: #888; }
        .toggle-opt.active { background: var(--accent); color: white; }

    </style>
</head>
<body>

    <div id="login-screen">
        <div class="glass-panel login-card">
            <div class="logo-circle">CC</div>
            <h1>Work Portal</h1>
            <form id="login-form">
                <input type="password" id="password-input" placeholder="Access Code" required>
                <button type="submit" class="primary-btn">Enter System</button>
            </form>
            <div id="login-error">Access Denied</div>
        </div>
    </div>

    <div id="dashboard">
        <div class="glass-panel nav-bar">
            <div style="font-weight:800; font-size:1.5rem;"><span>CC</span>PORTAL</div>
            <div style="cursor:pointer;" onclick="location.reload()">Log Out</div>
        </div>

        <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:20px;">
            <div class="glass-panel tool-card" id="open-contract">
                <div>
                    <h2 style="margin-top:0;">Contract Generator</h2>
                    <p style="color:rgba(255,255,255,0.6);">Create EasyPay installment contracts. Auto-calculates tax (8.9%).</p>
                </div>
                <div style="color:var(--accent); font-weight:bold;">OPEN TOOL &rarr;</div>
            </div>
        </div>
    </div>

    <div id="app-modal">
        <div class="modal-body">
            <button class="close-btn" id="close-modal">&times;</button>
            <h2 style="margin-top:0; color:white;">EasyPay Contract Details</h2>
            
            <div class="row">
                <div class="field"><label>Full Name</label><input type="text" id="con-name" class="modal-input" placeholder="John Doe"></div>
                <div class="field"><label>Address</label><input type="text" id="con-address" class="modal-input" placeholder="123 Main St"></div>
            </div>
            <div class="row">
                <div class="field"><label>City</label><input type="text" id="con-city" class="modal-input" placeholder="City"></div>
                <div class="field"><label>State</label><input type="text" id="con-state" class="modal-input" placeholder="WA"></div>
                <div class="field"><label>Zip</label><input type="text" id="con-zip" class="modal-input" placeholder="Zip"></div>
            </div>
            <div class="row">
                <div class="field"><label>Account #</label><input type="text" id="con-acct" class="modal-input" placeholder="123456789"></div>
                <div class="field"><label>Phone #</label><input type="text" id="con-phone" class="modal-input" placeholder="(555) 555-5555"></div>
            </div>
            <hr style="border-color:#333; margin: 30px 0;">
            <div class="row">
                <div class="field"><label>Device Name</label><input type="text" id="con-item" class="modal-input" placeholder="iPhone 17"></div>
                <div class="field">
                    <label>SKU (First 6)</label>
                    <div style="display:flex;">
                        <input type="text" id="con-sku" class="modal-input" placeholder="123456" maxlength="6" style="border-radius:8px 0 0 8px;">
                        <span style="background:#333; color:#888; padding:12px; display:flex; align-items:center; border:1px solid #333; border-radius:0 8px 8px 0;">236</span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="field"><label>Retail Price ($)</label><input type="number" id="con-price" class="modal-input" placeholder="0.00" step="0.01"></div>
                <div class="field">
                    <label>Type</label>
                    <div class="btn-group">
                        <div class="toggle-opt active" id="mode-phone">Phone</div>
                        <div class="toggle-opt" id="mode-watch">Watch</div>
                    </div>
                </div>
            </div>
            <div style="background:#252525; padding:20px; border-radius:12px; margin-top:20px;">
                <div style="display:flex; justify-content:space-between; margin-bottom:10px; color:#ccc;"><span>Sales Tax (8.9%)</span><span id="disp-tax">$0.00</span></div>
                <div style="display:flex; justify-content:space-between; margin-bottom:10px; color:#ccc;"><span>Down Payment</span><span id="disp-down">$0.00</span></div>
                <div style="display:flex; justify-content:space-between; font-weight:bold; color:var(--accent); border-top:1px solid #444; padding-top:10px;"><span>Total Due Today</span><span id="con-due-today">$0.00</span></div>
            </div>
            <button id="generate-btn" class="primary-btn" style="margin-top:20px;">Generate PDF</button>
        </div>
    </div>

<script>
    // --- LOGIN ---
    const loginForm = document.getElementById('login-form');
    const passInput = document.getElementById('password-input');
    const loginScreen = document.getElementById('login-screen');
    const dashboard = document.getElementById('dashboard');
    const errorMsg = document.getElementById('login-error');

    loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        if(passInput.value.toLowerCase() === "spokanecc") {
            loginScreen.style.opacity = '0';
            setTimeout(() => { loginScreen.style.display = 'none'; dashboard.style.display = 'flex'; }, 500);
        } else { errorMsg.style.display = 'block'; passInput.value = ''; }
    });

    // --- MODAL ---
    const modal = document.getElementById('app-modal');
    document.getElementById('open-contract').addEventListener('click', () => modal.style.display = 'flex');
    document.getElementById('close-modal').addEventListener('click', () => modal.style.display = 'none');

    // --- MATH ---
    const modePhone = document.getElementById('mode-phone');
    const modeWatch = document.getElementById('mode-watch');
    const priceInput = document.getElementById('con-price');
    let isPhone = true;

    modePhone.addEventListener('click', () => { isPhone = true; modePhone.classList.add('active'); modeWatch.classList.remove('active'); updateMath(); });
    modeWatch.addEventListener('click', () => { isPhone = false; modeWatch.classList.add('active'); modePhone.classList.remove('active'); updateMath(); });
    priceInput.addEventListener('input', updateMath);

    // Phone Format
    document.getElementById('con-phone').addEventListener('input', function (e) {
        let x = e.target.value.replace(/\D/g, '').match(/(\d{0,3})(\d{0,3})(\d{0,4})/);
        e.target.value = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');
    });

    function getMath() {
        const price = parseFloat(priceInput.value) || 0;
        const tax = price * 0.089;
        let monthly = 0, down = 0, financed = 0;

        if (price > 0) {
            if (isPhone) {
                monthly = Math.floor(price / 24);
                down = price - (monthly * 24);
                financed = monthly * 24;
            } else {
                monthly = Math.ceil((price / 24) * 100) / 100;
                down = 0;
                financed = price; 
            }
        }
        return { price, tax, down, monthly, totalDue: down + tax, financed, totalPayments: monthly * 24, totalSalePrice: down + (monthly * 24) };
    }

    function updateMath() {
        const m = getMath();
        document.getElementById('disp-tax').innerText = "$" + m.tax.toFixed(2);
        document.getElementById('disp-down').innerText = "$" + m.down.toFixed(2);
        document.getElementById('con-due-today').innerText = "$" + m.totalDue.toFixed(2);
    }

    // --- GENERATE PDF ---
    document.getElementById('generate-btn').addEventListener('click', () => {
        const m = getMath();
        const name = document.getElementById('con-name').value || "";
        const address = document.getElementById('con-address').value || "";
        const city = document.getElementById('con-city').value || "";
        const state = document.getElementById('con-state').value || "";
        const zip = document.getElementById('con-zip').value || "";
        const fullAddress = address + ", " + city + ", " + state + " " + zip;
        const acct = document.getElementById('con-acct').value || "";
        const phone = document.getElementById('con-phone').value || "";
        const item = document.getElementById('con-item').value || "";
        const sku = (document.getElementById('con-sku').value || "000000") + "236";
        const date = new Date().toLocaleDateString();

        const win = window.open('', '_blank');
        win.document.write(`
            <html>
            <head>
                <title>Installment Contract</title>
                <style>
                    @media print { body { margin: 0; padding: 40px; } .page-break { page-break-before: always; } }
                    body { font-family: Arial, sans-serif; font-size: 11pt; line-height: 1.3; color: #000; padding: 40px; }
                    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 11pt; }
                    td, th { border: 1px solid black; padding: 6px; vertical-align: top; text-align: left; }
                    .no-border td { border: none; padding: 4px; }
                    .bold { font-weight: bold; }
                    .small { font-size: 9pt; }
                    h3 { text-align: center; font-weight: bold; font-size: 14pt; margin: 20px 0; }
                </style>
            </head>
            <body>
                [cite_start]<div class="bold" style="font-size:12pt; margin-bottom:10px;">NOTICE TO CONSUMER [cite: 40]</div>
                <div class="small">By signing below, you consent to receipt of the included contract and Truth-in-Lending disclosures in an electronic form. You have a right to withdraw this consent and to receive this document in a non-electronic form. To withdraw consent and request this document in a non-electronic form, send a written request including your name, address and contact phone number to Consumer Cellular, Incorporated at 12447 SW 69th Avenue, Portland, OR 97223-8517. Your consent only applies to the included contract and Truth-in-Lending disclosures. [cite_start]To update the information needed to contact you electronically, contact Consumer Cellular, Incorporated at 12447 SW 69th Avenue, Portland, OR 97223-8517, call 800-686-4460 or manage your account online at www.ConsumerCellular.com. [cite: 41-45]</div>
                <br>
                [cite_start]<table class="no-border"><tr><td width="10%"><strong>DATE:</strong></td><td>${date}</td></tr><tr><td><strong>BUYER'S SIGNATURE:</strong></td><td>__________________________________________</td></tr><tr><td colspan="2" class="small">(Please type your name in the box above to electronically sign this document)</td></tr></table> [cite: 46-48]
                [cite_start]<h3>CONSUMER CREDIT INSTALLMENT SALE CONTRACT [cite: 49]</h3>
                [cite_start]<table class="no-border" style="margin-bottom: 30px;"><tr><td width="50%"><strong>Seller/Creditor:</strong><br>Consumer Cellular<br>12447 SW 69th Avenue<br>Portland, OR 97223-8517</td><td><strong>Buyer:</strong><br>${name}<br>${fullAddress}</td></tr></table> [cite: 50]
                [cite_start]<table style="border: 2px solid black; margin-bottom:30px;"><tr style="background:#f0f0f0;"><th>SKU Number</th><th>Item Description</th><th>Price</th><th>Down payment Paid today</th><th>Balance</th></tr><tr><td>${sku}</td><td>${item}</td><td>$${m.price.toFixed(2)}</td><td>$${m.down.toFixed(2)}</td><td>$${m.financed.toFixed(2)}</td></tr></table> [cite: 51]
                [cite_start]<div class="bold" style="margin-top:20px; font-size:12pt;">Federal Truth-in-Lending Disclosures [cite: 52]</div>
                [cite_start]<table style="border: 2px solid black; margin-bottom:30px;"><tr style="background:#f0f0f0;"><th width="15%">ANNUAL % RATE</th><th width="15%">FINANCE CHARGE</th><th width="20%">Amount Financed</th><th width="20%">Total of Payments</th><th width="30%">Total Sale Price</th></tr><tr class="small" style="height: 50px;"><td>The cost of your credit as a yearly rate.</td><td>The dollar amount the credit will cost you.</td><td>The amount of credit provided to you or on your behalf.</td><td>The amount you will have paid after you have made all payments as scheduled.</td><td>The total cost of your purchase on credit, including your down payment of $${m.down.toFixed(2)}.</td></tr><tr class="bold" style="font-size:12pt;"><td>0%</td><td>$0.00</td><td>$${m.financed.toFixed(2)}</td><td>$${m.totalPayments.toFixed(2)}</td><td>$${m.totalSalePrice.toFixed(2)}</td></tr></table> [cite: 53]
                [cite_start]<div style="margin-top:20px; font-size:12pt;"><strong>Your Payment Schedule will be:</strong> [cite: 54]</div>
                [cite_start]<table style="border: 2px solid black;"><tr style="background:#f0f0f0;"><th>SKU Number</th><th>Number of Payments</th><th>Amount of Payments</th><th>When Payments are Due</th></tr><tr><td>${sku}</td><td>24</td><td>$${m.monthly.toFixed(2)}</td><td>Monthly, beginning on Next Bill Cycle</td></tr></table> [cite: 55]
                [cite_start]<div class="small" style="margin-top:20px;">See your Wireless Customer Agreement for any additional information about nonpayment, default, any required repayment in full before the scheduled date, and prepayment refunds and penalties. [cite: 56]</div>
                <div class="page-break"></div>
                
                [cite_start]<div style="margin-top:40px; font-weight: bold; font-size: 12pt;">Itemization of the Amount Financed of $${m.financed.toFixed(2)} [cite: 57]</div>
                [cite_start]<table class="no-border" style="width:100%; margin-top: 10px; margin-bottom: 30px; font-size: 11pt;"><tr><td>Cash Price</td><td>$${m.price.toFixed(2)}</td></tr><tr><td>Sales Tax (8.9%)</td><td>$${m.tax.toFixed(2)}</td></tr><tr><td>Total Cash Price plus Sales Tax</td><td>$${(m.price + m.tax).toFixed(2)}</td></tr><tr><td>Cash Down payment</td><td>$${m.down.toFixed(2)}</td></tr><tr><td>Sales Tax paid at time of sale</td><td>$${m.tax.toFixed(2)}</td></tr><tr><td>Unpaid Balance of Cash Price/Unpaid Balance</td><td>$${m.financed.toFixed(2)}</td></tr><tr><td>Prepaid FINANCE CHARGE</td><td>$0.00</td></tr><tr><td style="border-top:2px solid black; padding-top: 10px;"><strong>Amount Financed</strong></td><td style="border-top:2px solid black; padding-top: 10px;"><strong>$${m.financed.toFixed(2)}</strong></td></tr></table> [cite: 58]
                <div class="small" style="margin-top:20px; text-align:justify; line-height: 1.4;"><strong>Agreement to Purchase and Make Payments:</strong> The Buyer ("you" or "Buyer") agrees to purchase from the Seller ("we", "us", "our", or "Seller") the items described above on the terms set forth in this contract. You agree to make payments according to the payment schedule above. The Federal Truth-in-Lending Disclosures above are part of this contract. Items payable under this contract will appear on the monthly billing statements for your plan. Payments will first be applied to any past due balances and then, in order, to any deposit due, payments due under this contract, current service charges for your plan and then to any other charges for your service plan. Partial payments may result in the suspension or cancellation of your plan service and in equipment not operating on our network. You may prepay this contract in full or make additional payments in increments of $ at any time.<br><br><strong>Consumer Cellular, Incorporated Wireless Customer Agreement ("WCA"):</strong> You have been provided with a copy of the WCA. The WCA also applies to this transaction, but if the WCA is inconsistent with anything stated in this contract, this contract will prevail. Provisions of the WCA that are prohibited by law will not apply. Manufacturer warranty information, if any, is provided with the items sold.<br><br><strong>Default:</strong> Except where prohibited by law, if you commit any substantial default under this contract, we may declare the remaining unpaid balance of the contract immediately due and payable. You agree to maintain Service for any device purchased under this contract, and any termination of that Service will be a substantial default under this contract.<br><br><strong>NOTICE:</strong> ANY HOLDER OF THIS CONSUMER CREDIT CONTRACT IS SUBJECT TO ALL CLAIMS AND DEFENSES WHICH THE DEBTOR COULD ASSERT AGAINST THE SELLER OF GOODS OR SERVICES OBTAINED PURSUANT HERETO OR WITH THE PROCEEDS HEREOF. [cite_start]RECOVERY HEREUNDER BY THE DEBTOR SHALL NOT EXCEED AMOUNTS PAID BY THE DEBTOR HEREUNDER. [cite: 59-71]</div>
                [cite_start]<div style="margin-top:20px; font-weight: bold;">You acknowledge receipt of the Consumer Cellular, Incorporated WCA You also acknowledge receipt of a completely filled in copy of this contract when you signed it. [cite: 72]</div>
                [cite_start]<br><br><table class="no-border"><tr><td width="50%"><strong>BUYER'S SIGNATURE:</strong></td><td><strong>SELLER'S SIGNATURE:</strong></td></tr><tr><td style="border-bottom:2px solid black; height:40px;"></td><td style="vertical-align:bottom;">CONSUMER CELLULAR, INCORPORATED</td></tr><tr><td class="small">(Please type your name in the box above to electronically sign this document)</td><td></td></tr></table> [cite: 73-75]
                <div class="page-break"></div>
                
                [cite_start]<br><br><br><div style="font-size: 16pt; font-weight: bold; font-family: Arial, sans-serif; text-align: center;">Account Number: <span style="font-weight:normal;">${acct}</span><br><br>Phone Number: <span style="font-weight:normal;">${phone}</span></div> [cite: 77-78]
            </body>
            </html>
        `);
        win.document.close();
    });
</script>
</body>
</html>
