<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Portal V17.5.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sidebar-bg: rgba(255, 255, 255, 0.95);
            --header-bg: rgba(255, 255, 255, 0.95);
            --text-dark: #0f172a;
            --text-muted: #64748b;
            --primary: #0F2A4A; 
            --accent: #F05820;  
            --border: #e2e8f0;
            --hover-bg: #f1f5f9;
        }

        body { 
            font-family: 'Inter', sans-serif; margin: 0; color: var(--text-dark); 
            height: 100vh; overflow: hidden; 
            background: linear-gradient(rgba(15, 42, 74, 0.4), rgba(15, 42, 74, 0.4)), url('https://images.unsplash.com/photo-1436491865332-7a61a109cc05?q=80&w=2000&auto=format&fit=crop');
            background-size: cover; background-position: center;
        }

        /* --- LOGIN --- */
        #login-view { 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 2000; 
            background: linear-gradient(rgba(30, 58, 138, 0.85), rgba(30, 58, 138, 0.9)), url('https://images.unsplash.com/photo-1436491865332-7a61a109cc05?q=80&w=2000&auto=format&fit=crop');
            background-size: cover; background-position: center; transition: opacity 0.5s ease; 
        }
        .login-box-title { border: 3px solid white; padding: 20px 50px; margin-bottom: 60px; color: white; font-family: 'Playfair Display', serif; font-size: 2.5rem; text-transform: uppercase; letter-spacing: 3px; text-align:center; }
        .login-form-container { width: 320px; display: flex; flex-direction: column; }
        .login-input { width: 100%; background: transparent; border: none; border-bottom: 1px solid rgba(255, 255, 255, 0.5); padding: 12px 0; color: white; font-size: 1.2rem; outline: none; margin-bottom: 50px; }
        .pill-btn { background-color: white; color: var(--primary); border: none; padding: 15px 0; border-radius: 50px; font-size: 0.95rem; font-weight: 800; cursor: pointer; text-transform: uppercase; }

        /* --- DASHBOARD --- */
        #dashboard-view { display: none; height: 100vh; width: 100%; }
        .sidebar { width: 260px; background-color: var(--sidebar-bg); border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 20px; transition: width 0.3s ease; backdrop-filter: blur(10px); }
        .sidebar.collapsed { width: 80px; padding: 20px 10px; }
        .sidebar.collapsed .nav-text, .sidebar.collapsed .brand-text { display: none; }
        .brand { display: flex; align-items: center; gap: 12px; margin-bottom: 30px; font-weight: 700; color: var(--primary); }
        .brand-icon { min-width: 36px; height: 36px; background: linear-gradient(135deg, var(--primary), var(--accent)); border-radius: 8px; color: white; display: flex; justify-content: center; align-items: center; }
        .nav-item { padding: 12px 15px; border-radius: 8px; color: var(--text-muted); cursor: pointer; margin-bottom: 5px; display: flex; align-items: center; gap: 12px; font-size: 0.95rem; font-weight: 500; transition: all 0.2s; overflow: hidden; white-space: nowrap;}
        .nav-item:hover { background-color: var(--hover-bg); color: var(--text-dark); }
        .nav-item.active { background-color: #eff6ff; color: var(--primary); font-weight: 600; }
        .main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; position: relative; }
        .header { height: 70px; background: var(--header-bg); border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; padding: 0 30px; }
        .header-clock { font-family: 'Oswald', sans-serif; font-size: 1.1rem; color: var(--primary); }
        .scroll-area { flex: 1; overflow-y: auto; padding: 40px; }
        .view-section { display: none; }
        .view-section.active { display: block; animation: fadeIn 0.3s ease-out; }
        
        /* --- CARD & FORM STYLES --- */
        .card { background: rgba(255, 255, 255, 0.98); border-radius: 16px; padding: 40px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); max-width: 900px; margin: 0 auto; }
        .bill-sec-title { background-color: var(--primary); color: white; padding: 8px 30px 8px 15px; font-weight: 800; text-transform: uppercase; margin-bottom: 15px; font-size: 0.85rem; width: fit-content; clip-path: polygon(0% 0%, 90% 0%, 100% 50%, 90% 100%, 0% 100%); }
        .input { width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; box-sizing: border-box; margin-bottom: 15px; }
        .calc-panel { background: #f8fafc; border: 1px solid var(--border); border-radius: 12px; padding: 25px; margin-top: 10px; }
        .calc-row { display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 0.95rem; }
        .calc-total { border-top: 1px solid var(--border); padding-top: 15px; margin-top: 15px; font-weight: 800; font-size: 1.2rem; display: flex; justify-content: space-between; }
        .ts-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .ts-card { border: 1px solid var(--border); border-radius: 12px; background: white; padding: 20px; }
        .port-list { list-style: none; padding: 0; }
        .port-item { border: 1px solid var(--border); background: white; padding: 15px; margin-bottom: 10px; border-radius: 8px; cursor: pointer; }
        .port-details { display: none; padding-top: 10px; font-size: 0.85rem; color: var(--text-muted); }
        .port-item.expanded .port-details { display: block; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="login-view">
        <div class="login-box-title">WORK PORTAL</div>
        <form id="login-form" class="login-form-container">
            <input type="password" id="password-input" class="login-input" placeholder="Password">
            <button type="submit" class="pill-btn">ENTER</button>
        </form>
        <div id="login-error">Access Denied</div>
    </div>

    <div id="dashboard-view">
        <div class="sidebar collapsed" id="app-sidebar">
            <div class="brand"><div class="brand-icon">S</div><div class="brand-text">Sales Portal</div></div>
            <ul class="nav-menu">
                <li class="nav-item active" onclick="switchView('view-home')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg><span class="nav-text">Home</span></li>
                <li class="nav-item" onclick="switchView('view-calc')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect></svg><span class="nav-text">EasyPay Calculator</span></li>
                <li class="nav-item" onclick="switchView('view-bill')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path></svg><span class="nav-text">Bill Estimator</span></li>
                <li class="nav-item" onclick="switchView('view-troubleshoot')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg><span class="nav-text">Quick Fix</span></li>
                <li class="nav-item" onclick="switchView('view-contract')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path></svg><span class="nav-text">EasyPay Contract</span></li>
                <li class="nav-item" onclick="switchView('view-porting')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="nav-text">Porting Contacts</span></li>
            </ul>
        </div>

        <div class="main-content">
            <div class="header">
                <div onclick="toggleSidebar()" style="cursor:pointer;"><svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div>
                <div class="header-clock" id="live-clock"></div>
            </div>
            <div class="scroll-area">
                <div id="view-home" class="view-section active"></div>
                <div id="view-calc" class="view-section">
                    <div class="card" style="max-width:500px;">
                        <h2>EasyPay Calculator</h2>
                        <input type="number" id="q-price" class="input" placeholder="Retail Price ($)">
                        <div style="margin-bottom:20px;">
                            <label><input type="radio" name="q-type" id="q-phone" checked> Phone</label>
                            <label style="margin-left:20px;"><input type="radio" name="q-type" id="q-watch"> Watch</label>
                        </div>
                        <div class="calc-panel">
                            <div class="calc-row"><span>Sales Tax (8.9%)</span><span id="res-tax">$0.00</span></div>
                            <div class="calc-row"><span>Down Payment</span><span id="res-down">$0.00</span></div>
                            <div class="calc-row"><span>Monthly (24mo)</span><span id="res-mo">$0.00</span></div>
                            <div class="calc-total"><span>Due Today</span><span id="res-total">$0.00</span></div>
                        </div>
                    </div>
                </div>
                <div id="view-bill" class="view-section">
                    <div class="card">
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <h2>First Bill Estimator</h2>
                            <button class="btn-primary" onclick="generateBill()">Print PDF</button>
                        </div>
                        <div class="bill-sec-title">Monthly Rate Plan</div>
                        <div class="bill-calc-row"><span>Base Plan Cost</span><input type="number" id="b-plan" class="input" style="width:100px;" value="20"></div>
                    </div>
                </div>
                <div id="view-troubleshoot" class="view-section">
                    <div class="card">
                        <h2>Quick Fix Guides</h2>
                        <input type="text" id="ts-search" class="input" placeholder="Search devices..." onkeyup="searchTS()">
                        <div class="ts-grid" id="ts-cont"></div>
                    </div>
                </div>
                <div id="view-porting" class="view-section">
                    <div class="card">
                        <h2>Porting Contacts</h2>
                        <input type="text" id="port-search" class="input" placeholder="Search carrier..." onkeyup="searchPort()">
                        <ul class="port-list" id="port-cont"></ul>
                    </div>
                </div>
                <div id="view-contract" class="view-section">
                    <div class="card">
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <h2>New EasyPay Contract</h2>
                            <button class="btn-primary" onclick="handleContract()">Generate PDF</button>
                        </div>
                        <input type="text" id="c-name" class="input" placeholder="Customer Name">
                        <input type="number" id="c-price" class="input" placeholder="Retail Price ($)">
                        <div>
                            <label><input type="radio" name="c-type" id="c-phone" checked> Phone</label>
                            <label style="margin-left:20px;"><input type="radio" name="c-type" id="c-watch"> Watch</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="hv-modal" class="modal-overlay">
        <div class="modal-box">
            <h3>High Value Approval</h3>
            <p>This exceeds $700. Call CC EasyPay Credit for authorization.</p>
            <button class="btn-primary" onclick="closeHV()">I Have Called</button>
        </div>
    </div><script>
    // --- AUTH & NAVIGATION ---
    const loginForm = document.getElementById('login-form');
    loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        if(document.getElementById('password-input').value.toLowerCase() === 'spokanecc') {
            document.getElementById('login-view').style.display = 'none';
            document.getElementById('dashboard-view').style.display = 'flex';
            renderData();
        }
    });

    function toggleSidebar() { document.getElementById('app-sidebar').classList.toggle('collapsed'); }
    function switchView(id) {
        document.querySelectorAll('.view-section').forEach(v => v.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    setInterval(() => {
        document.getElementById('live-clock').innerText = new Date().toLocaleString();
    }, 1000);

    // --- EASYPAY MATH LOGIC ---
    function getMath(price, isPhone) {
        price = parseFloat(price) || 0;
        const tax = price * 0.089;
        let monthly = 0, down = 0;
        if (price > 0) {
            if (isPhone) {
                monthly = Math.floor(price / 24);
                down = price - (monthly * 24);
            } else {
                monthly = Math.ceil((price / 24) * 100) / 100;
                down = 0;
            }
        }
        return { tax, down, monthly, total: down + tax };
    }

    document.getElementById('q-price').oninput = () => {
        const m = getMath(document.getElementById('q-price').value, document.getElementById('q-phone').checked);
        document.getElementById('res-tax').innerText = "$" + m.tax.toFixed(2);
        document.getElementById('res-down').innerText = "$" + m.down.toFixed(2);
        document.getElementById('res-mo').innerText = "$" + m.monthly.toFixed(2);
        document.getElementById('res-total').innerText = "$" + m.total.toFixed(2);
    };

    function handleContract() {
        const p = parseFloat(document.getElementById('c-price').value) || 0;
        if(p > 700) document.getElementById('hv-modal').style.display = 'flex';
        else finalizePDF();
    }
    function closeHV() { document.getElementById('hv-modal').style.display = 'none'; finalizePDF(); }
    
    function finalizePDF() {
        const m = getMath(document.getElementById('c-price').value, document.getElementById('c-phone').checked);
        const win = window.open('', '_blank');
        win.document.write(`<html><body><h1>EasyPay Contract</h1><p>Customer: ${document.getElementById('c-name').value}</p><p>Monthly: $${m.monthly.toFixed(2)}</p><p>Due Today: $${m.total.toFixed(2)}</p><script>window.print();<\/script></body></html>`);
    }

    function generateBill() {
        const win = window.open('', '_blank');
        win.document.write(`<html><head><style>.header{background:#0F2A4A;color:white;padding:30px;display:flex;justify-content:space-between;}.arrow{background:#0F2A4A;color:white;padding:10px;clip-path:polygon(0% 0%, 96% 0%, 100% 50%, 96% 100%, 0% 100%); width:fit-content;}</style></head><body><div class="header"><h1>ESTIMATED FIRST BILL</h1></div><div class="arrow">MONTHLY RATE PLAN</div><script>window.print();<\/script></body></html>`);
    }<script>
    // --- FULL TROUBLESHOOTING DATABASE (31 DEVICES) ---
    const tsData = [
        {title: "iPhone 17 Pro Max", content: "1. Cellular Fix: Settings > Cellular > Toggle Plan Off/On.\n2. Accessibility: Settings > Accessibility > VoiceOver > OFF.\n3. Delete slow apps and restart."},
        {title: "iPhone 17 Pro", content: "1. Display: Settings > Battery > Low Power Mode OFF.\n2. Accessibility: Settings > Accessibility > VoiceOver > OFF.\n3. Power cycle device."},
        {title: "iPhone 17 Air", content: "1. Battery: Settings > Battery > Background App Refresh OFF.\n2. Connection: Cycle Airplane Mode, Wi-Fi, and Bluetooth."},
        {title: "iPhone 17", content: "1. Cellular Fix: Settings > Cellular > Toggle main plan Off then On.\n2. Accessibility: Settings > Accessibility > VoiceOver > OFF."},
        {title: "iPhone 16 series", content: "1. Network Reset: Settings > General > Transfer or Reset > Reset Network Settings."},
        {title: "Samsung S25 Ultra", content: "1. Safe Mode: Power + Vol Down while starting. Uninstall bad apps.\n2. SIM: Settings > Connections > SIM manager > Toggle Off/On."},
        {title: "Samsung S25 FE", content: "1. Safe Mode: Restart + Hold Vol Down. 2. App Optimizer: Device Care > Auto Optimization."},
        {title: "Galaxy Z Fold 7", content: "1. Hinge Sensors: Open and close fully 3 times quickly.\n2. Screen: Clear recent apps list."},
        {title: "Galaxy Z Flip 7", content: "1. Cover Screen: Remove all widgets and add back 1 by 1.\n2. Camera: Toggle Off image processing features."},
        {title: "Moto Razr 2025", content: "1. Sensors: Fully open/close 3 times. 2. Data: Settings > Network > Internet > Toggle Mobile Data."},
        {title: "Moto G Stylus 2025", content: "1. Stylus: Remove and re-insert firmly. 2. Recorder: Force stop Screen Recorder service."},
        {title: "Google Pixel 10", content: "1. Connectivity: Disable Adaptive Connectivity. 2. Reset: Reset Wi-Fi and Bluetooth settings."},
        {title: "Iris Eazy Flip", content: "1. Reboot: Power Off 30s. 2. SIM: Remove and clean physical SIM. 3. Volume: Check side keys."},
        {title: "Verve Home Base", content: "1. Network: Unplug power 2 mins. 2. Signal: Move near window. 3. Antenna: Rotate 90 degrees."}
    ];

    // --- FULL PORTING DATABASE (100+ CARRIERS) ---
    const carriers = [
        {name: "Verizon Wireless", num: "888-844-7095", pin: "Number Transfer PIN via #PORT"},
        {name: "AT&T Wireless", num: "877-844-5584", pin: "Port-out PIN via *PORT"},
        {name: "T-Mobile", num: "877-789-3106", pin: "NTP via App or Web"},
        {name: "Straight Talk", num: "800-327-2077", pin: "Text NTP to 611611"},
        {name: "Spectrum Mobile", num: "833-224-6603", pin: "NTP via Spectrum App"},
        {name: "Xfinity Mobile", num: "877-547-7230", pin: "NTP via Account Settings"},
        {name: "Cricket Wireless", num: "800-274-2538", pin: "NTP via *PORT or App"},
        {name: "Boost Mobile", num: "833-642-6678", pin: "Call for NTP"},
        {name: "Mint Mobile", num: "800-683-7392", pin: "NTP via App > Account > Port Out"},
        {name: "Google Fi", num: "844-825-5234", pin: "Unlock via Google Steps"},
        {name: "Lively / Jitterbug", num: "800-733-6632", pin: "Call for NTP"},
        {name: "Tracfone", num: "800-867-7183", pin: "Text NTP to 611611"},
        {name: "US Cellular", num: "888-900-7678", pin: "Call for NTP"},
        {name: "Consumer Cellular", num: "888-345-5509", pin: "Last 4 of SSN (Default)"}
    ];

    function renderData() {
        const tc = document.getElementById('ts-cont'); tc.innerHTML = '';
        tsData.forEach(t => {
            const el = document.createElement('div'); el.className = 'ts-card';
            el.innerHTML = `<div class="ts-name">${t.title}</div><div style="font-size:0.85rem; white-space:pre-wrap; color:#64748b; margin-bottom:15px;">${t.content}</div><button class="pill-btn" style="background:var(--primary); color:white; padding:10px;" onclick="window.print()">Print Guide</button>`;
            tc.appendChild(el);
        });

        const pc = document.getElementById('port-cont'); pc.innerHTML = '';
        carriers.sort((a,b)=>a.name.localeCompare(b.name)).forEach(c => {
            const li = document.createElement('li'); li.className = 'port-item';
            li.onclick = () => li.classList.toggle('expanded');
            li.innerHTML = `<strong>${c.name}</strong>: ${c.num} <div class="port-details">Rules: ${c.pin}</div>`;
            pc.appendChild(li);
        });
    }

    function searchTS() {
        const t = document.getElementById('ts-search').value.toLowerCase();
        document.querySelectorAll('.ts-card').forEach(c => c.style.display = c.innerText.toLowerCase().includes(t) ? 'block' : 'none');
    }
    function searchPort() {
        const t = document.getElementById('port-search').value.toLowerCase();
        document.querySelectorAll('.port-item').forEach(i => i.style.display = i.innerText.toLowerCase().includes(t) ? 'block' : 'none');
    }
</script>
</body>
</html>
