<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CC Store Manager Portal</title>
    <style>
        :root {
            --cc-orange: #FF6B00;
            --cc-grey: #333;
            --cc-light: #f4f4f4;
        }
        body { font-family: 'Arial', sans-serif; margin: 0; background: #e9ecef; color: #333; }
        
        /* Navigation */
        .navbar { background: var(--cc-orange); padding: 1rem; color: white; display: flex; justify-content: space-between; align-items: center; }
        .navbar h1 { margin: 0; font-size: 1.5rem; }
        .nav-links button { background: none; border: 2px solid white; color: white; padding: 8px 16px; margin-left: 10px; cursor: pointer; border-radius: 4px; font-weight: bold; }
        .nav-links button:hover { background: white; color: var(--cc-orange); }
        .nav-links button.active { background: white; color: var(--cc-orange); }

        /* Container */
        .container { max-width: 900px; margin: 20px auto; background: white; padding: 40px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); border-radius: 8px; }

        /* Sections */
        .portal-section { display: none; }
        .portal-section.active { display: block; }

        /* Forms */
        h2 { border-bottom: 2px solid var(--cc-orange); padding-bottom: 10px; margin-top: 0; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .full-width { grid-column: span 2; }
        label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 0.9rem; }
        input, select { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        
        /* Tables & readouts */
        .calc-box { background: var(--cc-light); padding: 15px; border-radius: 5px; margin-top: 20px; }
        .total-row { display: flex; justify-content: space-between; font-size: 1.2rem; font-weight: bold; margin-top: 10px; padding-top: 10px; border-top: 1px solid #ccc; }
        
        /* Buttons */
        .action-btn { background: var(--cc-grey); color: white; border: none; padding: 12px 24px; font-size: 1rem; cursor: pointer; border-radius: 4px; margin-top: 20px; width: 100%; }
        .action-btn:hover { background: #000; }

        /* Print Styles - Crucial for your PDF generation */
        @media print {
            body { background: white; }
            .navbar, .action-btn, .no-print { display: none !important; }
            .container { box-shadow: none; margin: 0; padding: 0; max-width: 100%; }
            .portal-section { display: block; } /* Ensure content shows */
            .portal-section:not(.active) { display: none; } /* Only print active tab */
            input { border: none; border-bottom: 1px solid #000; background: transparent; padding: 0; }
            select { appearance: none; border: none; background: transparent; }
            /* Force specific print layouts */
            .legal-text { font-size: 10px; text-align: justify; margin-top: 20px; }
        }
    </style>
</head>
<body>

<div class="navbar">
    <h1>CC Store Portal | Spokane Valley</h1>
    <div class="nav-links">
        <button onclick="switchTab('estimator')" id="btn-estimator" class="active">Bill Estimator</button>
        <button onclick="switchTab('easypay')" id="btn-easypay">EasyPay Contract</button>
    </div>
</div>

<div class="container">

    <div id="estimator" class="portal-section active">
        <h2>Estimated First Bill</h2>
        <div class="form-grid">
            <div>
                <label>Base Plan Cost ($)</label>
                <input type="number" id="basePlan" value="0" oninput="calcBill()">
            </div>
            <div>
                <label>Activation Fee (if any)</label>
                <input type="number" id="actFee" value="0" oninput="calcBill()">
            </div>
        </div>

        <h3>Monthly Rates & Add-ons</h3>
        <div class="form-grid">
            <div>
                <label>Add'l Lines (Qty) x $15</label>
                <input type="number" id="linesReg" value="0" oninput="calcBill()">
            </div>
            <div>
                <label>Add'l Unlimited Lines (Qty) x $20</label>
                <input type="number" id="linesUnl" value="0" oninput="calcBill()">
            </div>
            <div>
                <label>Smartwatches (Qty) x $5</label>
                <input type="number" id="linesWatch" value="0" oninput="calcBill()">
            </div>
            <div>
                <label>IRIS Ally (Qty) x $25</label>
                <input type="number" id="linesIris" value="0" oninput="calcBill()">
            </div>
            <div>
                <label>Home Phone Base</label>
                <select id="homePhone" onchange="calcBill()">
                    <option value="0">None</option>
                    <option value="15">$15 Plan</option>
                    <option value="20">$20 Plan</option>
                </select>
            </div>
            <div>
                <label>Asurion Protection ($)</label>
                <input type="number" id="protection" value="0" oninput="calcBill()">
            </div>
        </div>

        <h3>Devices (EasyPay)</h3>
        <div class="form-grid">
            <div>
                <label>Device 1 Monthly Fee ($)</label>
                <input type="number" id="dev1" value="0" oninput="calcBill()">
            </div>
            <div>
                <label>Device 2 Monthly Fee ($)</label>
                <input type="number" id="dev2" value="0" oninput="calcBill()">
            </div>
        </div>

        <h3>Taxes & Credits</h3>
        <div class="form-grid">
            <div>
                <label>Est. Govt Taxes & Fees ($)</label>
                <input type="number" id="taxes" value="0" oninput="calcBill()">
            </div>
            <div>
                <label>Discounts/Promos (-$)</label>
                <input type="number" id="discounts" value="0" oninput="calcBill()">
            </div>
             <div class="full-width">
                <label>AARP/USAA Member ID Added?</label>
                <select id="aarp">
                    <option>No</option>
                    <option>Yes (5% Discount applied to usage)</option>
                </select>
            </div>
        </div>

        <div class="calc-box">
            <div class="total-row">
                <span>GRAND TOTAL EST. (1st Month):</span>
                <span id="billTotal">$0.00</span>
            </div>
            <p style="font-size: 0.8rem; margin-top: 10px; color: #666;">*Includes plan, devices, fees, and estimated taxes. Charges may vary based on billing cycle.</p>
        </div>

        <button class="action-btn" onclick="window.print()">Print Estimate for Customer</button>
    </div>

    <div id="easypay" class="portal-section">
        <h2>Consumer Credit Installment Sale Contract</h2>
        <p class="no-print" style="color: red; font-size: 0.9em;">*Fill this out, click Print, then "Save as PDF" to upload to the system.</p>

        <div class="form-grid">
            <div class="full-width">
                <label>Buyer Name</label>
                <input type="text" placeholder="Customer Name">
            </div>
            <div class="full-width">
                <label>Address</label>
                <input type="text" placeholder="123 Example St, Spokane, WA">
            </div>
        </div>

        <h3>Device Details</h3>
        <div class="form-grid">
            <div>
                <label>SKU Number</label>
                <input type="text" id="epSku">
            </div>
            <div>
                <label>Item Description</label>
                <input type="text" id="epDesc">
            </div>
            <div>
                <label>Total Price ($)</label>
                <input type="number" id="epPrice" value="0" oninput="calcEasyPay()">
            </div>
            <div>
                <label>Down Payment Paid Today ($)</label>
                <input type="number" id="epDown" value="0" oninput="calcEasyPay()">
            </div>
        </div>

        <h3>Federal Truth-in-Lending Disclosures</h3>
        <table style="width:100%; border-collapse: collapse; text-align: center; border: 1px solid #000; margin-bottom: 20px;">
            <tr style="background: #ddd; font-weight: bold;">
                <td style="border: 1px solid #000; padding: 5px;">APR</td>
                <td style="border: 1px solid #000; padding: 5px;">Finance Charge</td>
                <td style="border: 1px solid #000; padding: 5px;">Amount Financed</td>
                <td style="border: 1px solid #000; padding: 5px;">Total of Payments</td>
            </tr>
            <tr>
                <td style="border: 1px solid #000; padding: 10px;">0%</td>
                <td style="border: 1px solid #000; padding: 10px;">$0.00</td>
                <td style="border: 1px solid #000; padding: 10px;" id="epAmtFinanced">$0.00</td>
                <td style="border: 1px solid #000; padding: 10px;" id="epTotalPay">$0.00</td>
            </tr>
        </table>

        <div class="calc-box">
            <div class="total-row">
                <span>Monthly Payment (24 Months):</span>
                <span id="epMonthly">$0.00 / mo</span>
            </div>
            <div class="total-row" style="font-size: 1rem; border: none; margin-top: 5px;">
                <span>Balance Due Today:</span>
                <span id="epToday">$0.00</span>
            </div>
        </div>

        <div class="form-grid" style="margin-top: 30px;">
             <div class="full-width">
                <label>Buyer's Signature (Type to Sign)</label>
                <input type="text" style="font-family: 'Courier New', monospace; font-style: italic; font-size: 1.2rem; border-bottom: 2px solid black;">
            </div>
            <div>
                <label>Date</label>
                <input type="text" id="currentDate">
            </div>
        </div>

        <div class="legal-text">
            <p><strong>NOTICE TO CONSUMER:</strong> By signing above, you consent to receipt of the included contract and Truth-in-Lending disclosures. You agree to make payments according to the schedule above (24 months). Default: If you cancel service, the remaining balance becomes immediately due.</p>
            <p>Seller: Consumer Cellular, Inc. 12447 SW 69th Avenue, Portland, OR 97223.</p>
        </div>

        <button class="action-btn" onclick="window.print()">Print / Save as PDF</button>
    </div>

</div>

<script>
    // Set Date Automatically
    document.getElementById('currentDate').value = new Date().toLocaleDateString();

    function switchTab(tabId) {
        document.querySelectorAll('.portal-section').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.nav-links button').forEach(el => el.classList.remove('active'));
        
        document.getElementById(tabId).classList.add('active');
        document.getElementById('btn-' + tabId).classList.add('active');
    }

    function calcBill() {
        // Get values
        let base = parseFloat(document.getElementById('basePlan').value) || 0;
        let linesReg = (parseFloat(document.getElementById('linesReg').value) || 0) * 15;
        let linesUnl = (parseFloat(document.getElementById('linesUnl').value) || 0) * 20;
        let linesWatch = (parseFloat(document.getElementById('linesWatch').value) || 0) * 5;
        let linesIris = (parseFloat(document.getElementById('linesIris').value) || 0) * 25;
        let homePhone = parseFloat(document.getElementById('homePhone').value) || 0;
        let protection = parseFloat(document.getElementById('protection').value) || 0;
        
        let dev1 = parseFloat(document.getElementById('dev1').value) || 0;
        let dev2 = parseFloat(document.getElementById('dev2').value) || 0;
        
        let taxes = parseFloat(document.getElementById('taxes').value) || 0;
        let actFee = parseFloat(document.getElementById('actFee').value) || 0;
        let discounts = parseFloat(document.getElementById('discounts').value) || 0;

        // Calculate
        let total = base + linesReg + linesUnl + linesWatch + linesIris + homePhone + protection + dev1 + dev2 + taxes + actFee - discounts;

        // Update Display
        document.getElementById('billTotal').innerText = "$" + total.toFixed(2);
    }

    function calcEasyPay() {
        let price = parseFloat(document.getElementById('epPrice').value) || 0;
        let down = parseFloat(document.getElementById('epDown').value) || 0;
        
        let financed = price - down;
        if(financed < 0) financed = 0;
        
        let monthly = financed / 24;

        document.getElementById('epAmtFinanced').innerText = "$" + financed.toFixed(2);
        document.getElementById('epTotalPay').innerText = "$" + financed.toFixed(2);
        document.getElementById('epMonthly').innerText = "$" + monthly.toFixed(2) + " / mo";
        document.getElementById('epToday').innerText = "$" + down.toFixed(2) + " (Tax not incl.)";
    }
</script>

</body>
</html>
