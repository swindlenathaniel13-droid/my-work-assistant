<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Portal V3.8.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent-color: #ff7b00;
            --accent-hover: #e66f00;
            --bg-dark: #121212;
            --text-light: #ffffff;
            --text-dark: #333333;
            --text-muted: #666666;
            --border-color: #e0e0e0;
        }

        body { font-family: 'Roboto', sans-serif; margin: 0; height: 100vh; display: flex; background-color: #f4f4f4; overflow: hidden; }

        /* BANNER */
        #banner-panel { flex: 4; background-color: var(--bg-dark); display: flex; justify-content: center; align-items: center; padding: 40px; }
        #hero-text { color: var(--text-light); font-size: 3rem; font-weight: bold; letter-spacing: 2px; text-align: center; }

        /* MAIN PANEL */
        #interaction-panel { flex: 3; background-color: #fff; padding: 50px; display: flex; flex-direction: column; position: relative; }

        /* TOP BAR */
        #top-bar { position: absolute; top: 20px; right: 40px; display: flex; align-items: center; gap: 20px; z-index: 10; }
        #time-display { font-size: 1.1rem; font-weight: 500; color: var(--text-dark); }
        .icon-btn { background: none; border: none; cursor: pointer; color: var(--text-muted); padding: 8px; display: none; }
        .icon-btn:hover { color: var(--accent-color); }
        #logout-btn { display: none; padding: 8px 16px; background-color: transparent; border: 2px solid var(--accent-color); color: var(--accent-color); border-radius: 6px; font-weight: 600; cursor: pointer; }

        /* LOGIN */
        #login-section { display: flex; flex-direction: column; justify-content: center; height: 100%; max-width: 400px; margin: auto; width: 100%; }
        .input-group { margin-bottom: 20px; }
        .input-label { display: block; margin-bottom: 8px; font-weight: 500; }
        .modern-input { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1rem; box-sizing: border-box; }
        .modern-input:focus { outline: none; border-color: var(--accent-color); }
        .login-btn { width: 100%; padding: 15px; background-color: var(--accent-color); color: white; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: 700; cursor: pointer; }
        #login-error { color: #d32f2f; background-color: #ffebee; padding: 10px; border-radius: 4px; margin-bottom: 20px; text-align: center; display: none; }

        /* DASHBOARD */
        #dashboard-section { display: none; flex-direction: column; height: 100%; justify-content: center; align-items: center; text-align: center; }

        /* MODAL */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); display: none; justify-content: center; align-items: center; z-index: 2000; }
        .modal-content { background-color: white; padding: 30px; border-radius: 12px; width: 700px; max-height: 90vh; overflow-y: auto; box-shadow: 0 10px 25px rgba(0,0,0,0.3); position: relative; }
        .close-modal { position: absolute; top: 15px; right: 15px; cursor: pointer; font-size: 1.5rem; color: #666; }
        .toggle-container { display: flex; background: #f0f0f0; border-radius: 8px; padding: 4px; margin-top: 5px; }
        .toggle-btn { flex: 1; padding: 8px; border: none; background: transparent; cursor: pointer; border-radius: 6px; font-weight: 500; }
        .toggle-btn.active { background: white; color: var(--accent-color); box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .action-btn { width: 100%; padding: 12px; background: var(--accent-color); color: white; border: none; border-radius: 6px; font-size: 1rem; font-weight: bold; cursor: pointer; margin-top: 15px; }
        
        .two-col { display: flex; gap: 20px; }
        .col { flex: 1; }
    </style>
</head>
<body>

    <div id="banner-panel"><div id="hero-text">WORK<br>PORTAL</div></div>

    <div id="interaction-panel">
        <div id="top-bar">
            <div id="time-display">Loading...</div>
            <button id="contract-btn" class="icon-btn" title="Create Contract">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
            </button>
            <button id="logout-btn">Log Out</button>
        </div>

        <div id="login-section">
            <h1 style="color:#333;">Welcome</h1>
            <p class="subtitle">Enter access code.</p>
            <div id="login-error">Incorrect password.</div>
            <div class="input-group"><input type="password" id="password-input" class="modern-input" placeholder="Password"></div>
            <button type="button" id="login-trigger" class="login-btn">Log In</button>
            <p style="margin-top: 20px; text-align: center; color: #999; font-size: 0.8rem;">System v3.8.0</p>
        </div>

        <div id="dashboard-section">
            <h1 style="color: var(--accent-color); font-size: 3rem;">Ready</h1>
            <p style="font-size: 1.2rem; color: #666;">Click the Document icon to create a contract.</p>
        </div>
    </div>

    <div id="contract-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal" id="close-contract">&times;</span>
            <h2 style="margin-top:0; border-bottom:2px solid var(--accent-color); padding-bottom:10px;">Easy Pay Contract Generator</h2>
            
            <div class="two-col">
                <div class="col">
                    <h4 style="margin:0 0 10px 0; color:#666;">Buyer Information</h4>
                    <div class="input-group"><label class="input-label">Full Name</label><input type="text" id="con-name" class="modern-input" placeholder="John Doe"></div>
                    <div class="input-group"><label class="input-label">Street Address</label><input type="text" id="con-address" class="modern-input" placeholder="123 Maple St"></div>
                    <div class="two-col">
                        <div class="col"><label class="input-label">City</label><input type="text" id="con-city" class="modern-input" placeholder="Spokane"></div>
                        <div class="col"><label class="input-label">State</label><input type="text" id="con-state" class="modern-input" placeholder="WA"></div>
                        <div class="col"><label class="input-label">Zip</label><input type="text" id="con-zip" class="modern-input" placeholder="99201"></div>
                    </div>
                    <div class="input-group"><label class="input-label">Account #</label><input type="text" id="con-acct" class="modern-input" placeholder="123456789"></div>
                    <div class="input-group"><label class="input-label">Phone #</label><input type="text" id="con-phone" class="modern-input" placeholder="(555) 555-5555"></div>
                </div>
                
                <div class="col">
                    <h4 style="margin:0 0 10px 0; color:#666;">Device Details</h4>
                    <div class="input-group"><label class="input-label">Item Description</label><input type="text" id="con-item" class="modern-input" placeholder="iPhone 17"></div>
                    
                    <div class="input-group">
                        <label class="input-label">SKU (First 6 Digits)</label>
                        <div style="display:flex; align-items:center;">
                            <input type="text" id="con-sku" class="modern-input" placeholder="123456" maxlength="6" style="border-radius: 8px 0 0 8px; border-right: none;">
                            <span style="background:#eee; border:1px solid var(--border-color); border-left:none; padding:12px; border-radius: 0 8px 8px 0; color:#666; font-family:monospace;">236</span>
                        </div>
                    </div>

                    <div class="input-group"><label class="input-label">Retail Price ($)</label><input type="number" id="con-price" class="modern-input" placeholder="0.00" step="0.01"></div>
                    
                    <label class="input-label">Device Type</label>
                    <div class="toggle-container">
                        <button class="toggle-btn active" id="con-mode-phone">Phone</button>
                        <button class="toggle-btn" id="con-mode-watch">Watch</button>
                    </div>

                    <div style="background:#f9f9f9; padding:15px; border-radius:8px; margin-top:20px; font-size:0.9rem;">
                        <div style="display:flex; justify-content:space-between;"><span>Tax (8.9%):</span><span id="disp-tax">$0.00</span></div>
                        <div style="display:flex; justify-content:space-between;"><span>Down Pmt:</span><span id="disp-down">$0.00</span></div>
                        <div style="display:flex; justify-content:space-between; margin-top:5px; padding-top:5px; border-top:1px solid #ddd; font-weight:bold; color:var(--accent-color);">
                            <span>Due Today:</span><span id="con-due-today">$0.00</span>
                        </div>
                    </div>
                </div>
            </div>

            <button id="generate-btn" class="action-btn">Generate Contract PDF</button>
        </div>
    </div>

<script>
    // --- TIME ---
    function updateTime() {
        const now = new Date();
        document.getElementById('time-display').innerText = now.toLocaleTimeString('en-US', { hour12: true, hour: 'numeric', minute: '2-digit' });
    }
    setInterval(updateTime, 1000);
    updateTime();

    // --- ELEMENTS ---
    const passInput = document.getElementById('password-input');
    const loginBtn = document.getElementById('login-trigger');
    const loginSect = document.getElementById('login-section');
    const dashSect = document.getElementById('dashboard-section');
    const logoutBtn = document.getElementById('logout-btn');
    const contractBtn = document.getElementById('contract-btn');
    const loginError = document.getElementById('login-error');
    const banner = document.getElementById('banner-panel');

    // --- LOGIN ---
    function tryLogin() {
        if (passInput.value.toLowerCase() === "spokanecc") {
            loginSect.style.display = 'none';
            banner.style.display = 'none';
            dashSect.style.display = 'flex';
            logoutBtn.style.display = 'block';
            contractBtn.style.display = 'block';
        } else {
            loginError.style.display = 'block';
            passInput.value = "";
            setTimeout(() => loginError.style.display = 'none', 2000);
        }
    }
    loginBtn.addEventListener('click', tryLogin);
    passInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') tryLogin(); });
    logoutBtn.addEventListener('click', () => { location.reload(); });

    // --- PHONE FORMATTING ---
    const phoneInput = document.getElementById('con-phone');
    phoneInput.addEventListener('input', function (e) {
        let x = e.target.value.replace(/\D/g, '').match(/(\d{0,3})(\d{0,3})(\d{0,4})/);
        e.target.value = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');
    });

    // --- CONTRACT LOGIC ---
    const modal = document.getElementById('contract-modal');
    const closeBtn = document.getElementById('close-contract');
    const modePhone = document.getElementById('con-mode-phone');
    const modeWatch = document.getElementById('con-mode-watch');
    const priceInput = document.getElementById('con-price');
    const genBtn = document.getElementById('generate-btn');
    let isPhone = true;

    contractBtn.addEventListener('click', () => { modal.style.display = 'flex'; priceInput.focus(); });
    closeBtn.addEventListener('click', () => { modal.style.display = 'none'; });
    window.onclick = function(event) { if (event.target == modal) modal.style.display = "none"; }

    modePhone.addEventListener('click', () => { isPhone = true; modePhone.classList.add('active'); modeWatch.classList.remove('active'); updateMath(); });
    modeWatch.addEventListener('click', () => { isPhone = false; modeWatch.classList.add('active'); modePhone.classList.remove('active'); updateMath(); });
    priceInput.addEventListener('input', updateMath);

    function getMath() {
        const price = parseFloat(priceInput.value) || 0;
        const tax = price * 0.089;
        let monthly = 0;
        let down = 0;
        let financed = 0;

        if (price > 0) {
            if (isPhone) {
                // Phone: Round down monthly
                monthly = Math.floor(price / 24);
                down = price - (monthly * 24);
                financed = monthly * 24;
            } else {
                // Watch: Round up monthly, down is 0
                monthly = Math.ceil((price / 24) * 100) / 100;
                down = 0;
                financed = price; 
            }
        }
        
        const totalPayments = monthly * 24;
        const totalSalePrice = down + totalPayments;

        return {
            price: price,
            tax: tax,
            down: down,
            monthly: monthly,
            totalDue: down + tax,
            financed: financed,
            totalPayments: totalPayments,
            totalSalePrice: totalSalePrice
        };
    }

    function updateMath() {
        const m = getMath();
        document.getElementById('disp-tax').innerText = "$" + m.tax.toFixed(2);
        document.getElementById('disp-down').innerText = "$" + m.down.toFixed(2);
        document.getElementById('con-due-today').innerText = "$" + m.totalDue.toFixed(2);
    }

    genBtn.addEventListener('click', () => {
        const m = getMath();
        const name = document.getElementById('con-name').value || "";
        const address = document.getElementById('con-address').value || "";
        const city = document.getElementById('con-city').value || "";
        const state = document.getElementById('con-state').value || "";
        const zip = document.getElementById('con-zip').value || "";
        const fullAddress = address + ", " + city + ", " + state + " " + zip;
        
        const acct = document.getElementById('con-acct').value || "";
        const phone = document.getElementById('con-phone').value || "";
        const item = document.getElementById('con-item').value || "";
        // SKU Logic: Append 236
        const rawSku = document.getElementById('con-sku').value || "000000";
        const sku = rawSku + "236";
        
        const date = new Date().toLocaleDateString();

        const win = window.open('', '_blank');
        win.document.write(`
            <html>
            <head>
                <title>Contract</title>
                <style>
                    body { font-family: "Arial", sans-serif; padding: 40px; font-size: 10pt; line-height: 1.3; color: #000; }
                    table { width: 100%; border-collapse: collapse; margin-bottom: 15px; font-size: 10pt; }
                    td, th { border: 1px solid black; padding: 4px; vertical-align: top; text-align: left; }
                    .no-border td { border: none; }
                    .center { text-align: center; }
                    .bold { font-weight: bold; }
                    .box { border: 1px solid black; padding: 5px; margin: 10px 0; }
                    .small { font-size: 8pt; }
                    .page-break { page-break-after: always; }
                    h3 { text-align: center; font-weight: bold; margin: 10px 0; font-size: 12pt; }
                </style>
            </head>
            <body>
                <div class="bold" style="font-size:12pt; margin-bottom:10px;">NOTICE TO CONSUMER</div>
                <div class="small">By signing below, you consent to receipt of the included contract and Truth-in-Lending disclosures in an electronic form. You have a right to withdraw this consent and to receive this document in a non-electronic form. To withdraw consent and request this document in a non-electronic form, send a written request including your name, address and contact phone number to Consumer Cellular, Incorporated at 12447 SW 69th Avenue, Portland, OR 97223-8517. Your consent only applies to the included contract and Truth-in-Lending disclosures. To update the information needed to contact you electronically, contact Consumer Cellular, Incorporated at 12447 SW 69th Avenue, Portland, OR 97223-8517, call 800-686-4460 or manage your account online at www.ConsumerCellular.com.</div>
                
                <br>
                <table class="no-border">
                    <tr><td width="10%"><strong>DATE:</strong></td><td>${date}</td></tr>
                    <tr><td><strong>BUYER'S SIGNATURE:</strong></td><td>__________________________________________</td></tr>
                    <tr><td colspan="2" class="small">(Please type your name in the box above to electronically sign this document)</td></tr>
                </table>

                <h3>CONSUMER CREDIT INSTALLMENT SALE CONTRACT</h3>

                <table class="no-border">
                    <tr>
                        <td width="50%">
                            <strong>Seller/Creditor:</strong><br>
                            Consumer Cellular<br>
                            12447 SW 69th Avenue<br>
                            Portland, OR 97223-8517
                        </td>
                        <td>
                            <strong>Buyer:</strong><br>
                            ${name}<br>
                            ${fullAddress}<br>
                            Account: ${acct}<br>
                            Phone: ${phone}
                        </td>
                    </tr>
                </table>

                <table>
                    <tr>
                        <th>SKU Number</th><th>Item Description</th><th>Price</th><th>Down payment Paid today</th><th>Balance</th>
                    </tr>
                    <tr>
                        <td>${sku}</td><td>${item}</td><td>$${m.price.toFixed(2)}</td><td>$${m.down.toFixed(2)}</td><td>$${m.financed.toFixed(2)}</td>
                    </tr>
                </table>

                <div class="bold" style="margin-top:10px;">Federal Truth-in-Lending Disclosures</div>
                <table style="border: 2px solid black;">
                    <tr>
                        <th width="15%">ANNUAL % RATE</th>
                        <th width="15%">FINANCE CHARGE</th>
                        <th width="20%">Amount Financed</th>
                        <th width="20%">Total of Payments</th>
                        <th width="30%">Total Sale Price</th>
                    </tr>
                    <tr class="small" style="height: 60px;">
                        <td>The cost of your credit as a yearly rate.</td>
                        <td>The dollar amount the credit will cost you.</td>
                        <td>The amount of credit provided to you or on your behalf.</td>
                        <td>The amount you will have paid after you have made all payments as scheduled.</td>
                        <td>The total cost of your purchase on credit, including your down payment of $${m.down.toFixed(2)}.</td>
                    </tr>
                    <tr class="bold" style="font-size:11pt;">
                        <td>0%</td>
                        <td>$0.00</td>
                        <td>$${m.financed.toFixed(2)}</td>
                        <td>$${m.totalPayments.toFixed(2)}</td>
                        <td>$${m.totalSalePrice.toFixed(2)}</td>
                    </tr>
                </table>

                <div style="margin-top:10px;"><strong>Your Payment Schedule will be:</strong></div>
                <table>
                    <tr>
                        <th>SKU Number</th><th>Number of Payments</th><th>Amount of Payments</th><th>When Payments are Due</th>
                    </tr>
                    <tr>
                        <td>${sku}</td><td>24</td><td>$${m.monthly.toFixed(2)}</td><td>Monthly, beginning on Next Bill Cycle</td>
                    </tr>
                </table>

                <div class="small">See your Wireless Customer Agreement for any additional information about nonpayment, default, any required repayment in full before the scheduled date, and prepayment refunds and penalties.</div>
                
                <div class="page-break"></div>

                <div style="margin-top:20px; font-weight: bold;">Itemization of the Amount Financed of $${m.financed.toFixed(2)}</div>
                <table class="no-border" style="width:70%; margin-top: 10px;">
                    <tr><td>Cash Price</td><td>$${m.price.toFixed(2)}</td></tr>
                    <tr><td>Sales Tax (8.9%)</td><td>$${m.tax.toFixed(2)}</td></tr>
                    <tr><td>Total Cash Price plus Sales Tax</td><td>$${(m.price + m.tax).toFixed(2)}</td></tr>
                    <tr><td>Cash Down payment</td><td>$${m.down.toFixed(2)}</td></tr>
                    <tr><td>Sales Tax paid at time of sale</td><td>$${m.tax.toFixed(2)}</td></tr>
                    <tr><td>Unpaid Balance of Cash Price/Unpaid Balance</td><td>$${m.financed.toFixed(2)}</td></tr>
                    <tr><td>Prepaid FINANCE CHARGE</td><td>$0.00</td></tr>
                    <tr><td style="border-top:1px solid black; padding-top: 5px;"><strong>Amount Financed</strong></td><td style="border-top:1px solid black; padding-top: 5px;"><strong>$${m.financed.toFixed(2)}</strong></td></tr>
                </table>

                <div class="small" style="margin-top:15px; text-align:justify;">
                    <strong>Agreement to Purchase and Make Payments:</strong> The Buyer ("you" or "Buyer") agrees to purchase from the Seller ("we", "us", "our", or "Seller") the items described above on the terms set forth in this contract. You agree to make payments according to the payment schedule above. The Federal Truth-in-Lending Disclosures above are part of this contract. Items payable under this contract will appear on the monthly billing statements for your plan. Payments will first be applied to any past due balances and then, in order, to any deposit due, payments due under this contract, current service charges for your plan and then to any other charges for your service plan. Partial payments may result in the suspension or cancellation of your plan service and in equipment not operating on our network. You may prepay this contract in full or make additional payments in increments of $ at any time.
                    <br><br>
                    <strong>Consumer Cellular, Incorporated Wireless Customer Agreement ("WCA"):</strong> You have been provided with a copy of the WCA. The WCA also applies to this transaction, but if the WCA is inconsistent with anything stated in this contract, this contract will prevail. Provisions of the WCA that are prohibited by law will not apply. Manufacturer warranty information, if any, is provided with the items sold.
                    <br><br>
                    <strong>Default:</strong> Except where prohibited by law, if you commit any substantial default under this contract, we may declare the remaining unpaid balance of the contract immediately due and payable. You agree to maintain Service for any device purchased under this contract, and any termination of that Service will be a substantial default under this contract.
                    <br><br>
                    <strong>NOTICE:</strong> ANY HOLDER OF THIS CONSUMER CREDIT CONTRACT IS SUBJECT TO ALL CLAIMS AND DEFENSES WHICH THE DEBTOR COULD ASSERT AGAINST THE SELLER OF GOODS OR SERVICES OBTAINED PURSUANT HERETO OR WITH THE PROCEEDS HEREOF. RECOVERY HEREUNDER BY THE DEBTOR SHALL NOT EXCEED AMOUNTS PAID BY THE DEBTOR HEREUNDER.
                </div>

                <div style="margin-top:15px;">You acknowledge receipt of the Consumer Cellular, Incorporated WCA You also acknowledge receipt of a completely filled in copy of this contract when you signed it.</div>

                <br><br>
                <table class="no-border">
                    <tr><td width="50%"><strong>BUYER'S SIGNATURE:</strong></td><td><strong>SELLER'S SIGNATURE:</strong></td></tr>
                    <tr>
                        <td style="border-bottom:1px solid black; height:30px;"></td>
                        <td style="vertical-align:bottom;">CONSUMER CELLULAR, INCORPORATED</td>
                    </tr>
                    <tr>
                        <td class="small">(Please type your name in the box above to electronically sign this document)</td>
                        <td></td>
                    </tr>
                </table>

                <div class="page-break"></div>

                <br><br><br>
                <div style="font-size: 14pt; font-weight: bold; font-family: Arial, sans-serif; text-align: center;">
                    Account Number: <span style="font-weight:normal;">${acct}</span><br><br>
                    Phone Number: <span style="font-weight:normal;">${phone}</span>
                </div>
            </body>
            </html>
        `);
        win.document.close();
    });
</script>
</body>
</html>
